import base64
eval(compile(base64.b64decode(b'IiIiClRoaXMgbW9kdWxlIHByb3ZpZGVzIHV0aWxpdGllcyBoZWxwZnVsIGluIGltcGxlbWVudGluZyBldmFsdWF0b3JzIG9mIGFyaXRobWV0aWMgZXhwcmVzc2lvbnMuCiIiIgoKY2xhc3MgVG9rZW5pemVyOgogICAgIiIiCiAgICBUaGlzIGNsYXNzIGFsbG93cyB0byBpbmNyZW1lbnRhbGx5IGNvbnN1bWUgdGhlIHRva2VucyBvZiBhbiBleHByZXNzaW9uLgogICAgVG9rZW5zIGFyZSBzZXF1ZW5jZXMgb2Ygc3ltYm9scyBzZXBhcmF0ZWQgYnkgc3BhY2VzIChlLmcuLCAnYScsICc1JywgYW5kICcrJwogICAgYXJlIGFsbCB0b2tlbnMgaW4gJ2EgNSArJy4gVGhlIGdpdmVuIGV4cHJlc3Npb24gaXMgcmVhZCBsZWZ0IHRvIHJpZ2h0LgogICAgIiIiCiAgICBkZWYgX19pbml0X18oc2VsZixleHByZXNzaW9uKToKICAgICAgICBzZWxmLl90b2tlbnMgPSBleHByZXNzaW9uLnNwbGl0KCkKICAgICAgICBzZWxmLl90b2tlbnMucmV2ZXJzZSgpCgogICAgZGVmIG5leHQoc2VsZik6CiAgICAgICAgIiIiIFJldHVybnMgdGhlIG5leHQgdG9rZW4uCiAgICAgICAgUHJlY29uZGl0aW9uOiB0aGVyZSBpcyBhIHRva2VuIChzZWUgaGFzX25leHQpLgogICAgICAgIEVycm9yczogcmFpc2VzICdJbmRleEVycm9yJyBpZiB0aGVyZSBpcyBubyB0b2tlbi4KICAgICAgICAiIiIKICAgICAgICByZXR1cm4gc2VsZi5fdG9rZW5zLnBvcCgpCgogICAgZGVmIHJlbWFpbmRlcihzZWxmKToKICAgICAgICAiIiIgUmV0dXJucyBhIHN0cmluZyBjb250YWluaW5nIHRoZSByZW1haW5pbmcgdG9rZW5zIGluIHRoZSBleHByZXNzaW9uLgogICAgICAgICIiIgogICAgICAgIHJldHVybiAnICcuam9pbihyZXZlcnNlZChzZWxmLl90b2tlbnMpKQoKICAgIGRlZiBoYXNfbmV4dChzZWxmKToKICAgICAgICAiIiIgUmV0dXJuIFRydWUgaWYgdGhlcmUgaXMgYXQgbGVhc3Qgb25lIHRva2VuIGxlZnQsIEZhbHNlIG90aGVyd2lzZS4iIiIKICAgICAgICByZXR1cm4gYm9vbChzZWxmLl90b2tlbnMpCiAgICAgICAgCmNsYXNzIFN0YWNrOgogICAgIiIiCiAgICBUaGlzIGNsYXNzIGFsbG93cyB0byBzdG9yZSBpdGVtcyBpbiBhIExhc3QtSW4vRmlyc3QtT3V0IG1hbm5lci4KICAgICIiIgoKICAgIF9pdGVtcyA9IFtdCgogICAgZGVmIGlzX2VtcHR5KHNlbGYpOgogICAgICAgICIiIiBSZXR1cm4gVHJ1ZSBpZiB0aGUgc3RhY2sgdGhlcmUgYXJlIG5vIGl0ZW1zIGluIHRoZSBzdGFjaywgRmFsc2Ugb3RoZXJ3aXNlLiIiIgogICAgICAgIHJldHVybiBub3QgYm9vbChzZWxmLl9pdGVtcykKICAgIAogICAgZGVmIHBvcChzZWxmKToKICAgICAgICAiIiIgUmVtb3ZlcyB0aGUgbGFzdCBpdGVtIGFkZGVkIHRvIHRoZSBzdGFjayBhbmQgcmV0dXJucyBpdC4KICAgICAgICBQcmVjb25kaXRpb246IHRoZSBzdGFjayBpcyBub3QgZW1wdHkgKHNlZSBpc19lbXB0eSkuCiAgICAgICAgRXJyb3JzOiByYWlzZXMgJ0luZGVyRXJyb3InIGlmIHRoZSBzdGFjayBpcyBlbXB0eS4KICAgICAgICAiIiIKICAgICAgICByZXR1cm4gc2VsZi5faXRlbXMucG9wKCkKICAgIAogICAgZGVmIHB1c2goc2VsZixpdGVtKToKICAgICAgICAiIiIgQWRkIGFuIGl0ZW0gdG8gdGhlIHN0YWNrLiAiIiIKICAgICAgICByZXR1cm4gc2VsZi5faXRlbXMuYXBwZW5kKGl0ZW0pCgpkZWYgaXNfYmluYXJ5X29wKG9wKToKICAgICIiIgogICAgUmV0dXJucyBUcnVlIGlmICdvcCcgaXMgYSBzdHJpbmcgdGhhdCByZXByZXNlbnRzIGEgdmFsaWQgYXJpdGhtZXRpYyBiaW5hcnkKICAgIG9wZXJhdG9yIGluIHRoZSBzeW50YXggb2YgUHl0aG9uLCBGYWxzZSBvdGhlcndpc2UuCiAgICAiIiIKICAgIHJldHVybiBvcCBpbiBbJysnLCctJywnKicsJy8nLCcvLycsJyUnLCcqKiddCgpkZWYgZXZhbF9iaW5hcnlfb3Aob3AsbCxyKToKICAgICIiIgogICAgR2l2ZW4gYSBzdHJpbmcgdGhhdCByZXByZXNlbnRzIGEgdmFsaWQgYmluYXJ5IG9wZXJhdG9yIChzZWUgaXNfYmluYXJ5X29wKSwKICAgIHJldHVybnMgdGhlIHJlc3VsdCBvZiBhcHBseWluZyB0aGUgY29ycmVzcG9uZGluZyBvcGVydG9yIHRvIGwgYW5kIHIgaW4gdGhhdAogICAgb3JkZXIuCgogICAgUHJlY29uZGl0aW9uOiBvcCByZXByZXNlbnRzIGFtIGFyaXRobWVudGljIGJpbmFyeSBvcGVyYXRvciBpbiBQeXRob24gc3ludGF4CiAgICBhbmQgbCBhbmQgciBtZWV0cyBpdHMgcHJlY29uZGl0aW9ucy4KICAgICIiIgogICAgaWYgb3AgPT0gJysnOgogICAgICAgIHJldHVybiBsICsgcgogICAgZWxpZiBvcCA9PSAnLSc6CiAgICAgICAgcmV0dXJuIGwgLSByCiAgICBlbGlmIG9wID09ICcqJzoKICAgICAgICByZXR1cm4gbCAqIHIKICAgIGVsaWYgb3AgPT0gJy8nOgogICAgICAgIHJldHVybiBsIC8gcgogICAgZWxpZiBvcCA9PSAnJSc6CiAgICAgICAgcmV0dXJuIGwgJSByCiAgICBlbGlmIG9wID09ICcvLyc6CiAgICAgICAgcmV0dXJuIGwgLy8gcgogICAgZWxpZiBvcCA9PSAnKionOgogICAgICAgIHJldHVybiBsICoqIHIK'),'<string>','exec'))